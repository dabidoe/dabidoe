/**
 * Generate sample character outputs to JSON files
 * Demonstrates what the system produces
 */

import { populateCharacterData } from './shared/data-loader.js';
import fs from 'fs';

// Sample 1: Level 7 Ranger (half-caster)
const ranger = {
  id: 'char-ranger-001',
  name: 'Aragorn',
  class: 'Ranger',
  level: 7,
  race: 'Human',
  stats: { str: 14, dex: 16, con: 14, int: 10, wis: 15, cha: 10 },
  hp: { current: 50, max: 50 },
  ac: 15,
  background: 'outlander'
};

// Sample 2: Level 5 Wizard (full caster)
const wizard = {
  id: 'char-wizard-001',
  name: 'Gandalf',
  class: 'Wizard',
  level: 5,
  race: 'Human',
  stats: { str: 8, dex: 14, con: 13, int: 17, wis: 12, cha: 11 },
  hp: { current: 28, max: 28 },
  ac: 12,
  background: 'sage'
};

// Sample 3: Level 3 Fighter (no spells)
const fighter = {
  id: 'char-fighter-001',
  name: 'Boromir',
  class: 'Fighter',
  level: 3,
  race: 'Human',
  stats: { str: 16, dex: 14, con: 15, int: 10, wis: 11, cha: 12 },
  hp: { current: 28, max: 28 },
  ac: 18,
  background: 'soldier'
};

// Populate all characters
populateCharacterData(ranger);
populateCharacterData(wizard);
populateCharacterData(fighter);

// Add LLM-generated backstory (this would come from Gemini in real use)
ranger.backstory = "A ranger from the North, heir to the throne of Gondor. Spent years wandering the wilderness protecting the Shire from dark forces.";
ranger.personality = "Stoic, brave, noble. Reluctant to claim his birthright but willing to do what must be done.";
ranger.traits = ["Natural leader", "Skilled tracker", "Loyal friend"];

wizard.backstory = "An ancient wizard who has walked Middle-earth for thousands of years, guiding and protecting the free peoples.";
wizard.personality = "Wise, patient, mysterious. Quick to anger when facing evil, but kind to the innocent.";
wizard.traits = ["Ancient wisdom", "Powerful magic", "Mentor to heroes"];

fighter.backstory = "Captain of the Guard of Gondor, son of the Steward. Proud warrior seeking to defend his city.";
fighter.personality = "Brave, proud, loyal to his homeland. Struggles with the allure of power.";
fighter.traits = ["Master swordsman", "Tactical mind", "Conflicted soul"];

// Write to JSON files
fs.writeFileSync('./output-ranger-lvl7.json', JSON.stringify(ranger, null, 2));
fs.writeFileSync('./output-wizard-lvl5.json', JSON.stringify(wizard, null, 2));
fs.writeFileSync('./output-fighter-lvl3.json', JSON.stringify(fighter, null, 2));

console.log('\nâœ… Generated 3 character files:');
console.log('  - output-ranger-lvl7.json');
console.log('  - output-wizard-lvl5.json');
console.log('  - output-fighter-lvl3.json');

// Print summary
console.log('\nðŸ“Š SUMMARY OF OUTPUTS:\n');

console.log('RANGER (Level 7 - Half Caster)');
console.log(`  Abilities: ${ranger.abilities.length} total`);
console.log(`  - Class Features: ${ranger.abilities.filter(a => a.category === 'class-feature').length}`);
console.log(`  - Spells: ${ranger.abilities.filter(a => a.category === 'spell').length}`);
console.log(`  Spell Slots: ${ranger.spellSlots[1].max}Ã—1st, ${ranger.spellSlots[2].max}Ã—2nd`);
console.log(`  Equipment: ${ranger.inventory.length} items`);
console.log(`  Backstory: ${ranger.backstory ? 'Generated by LLM' : 'None'}\n`);

console.log('WIZARD (Level 5 - Full Caster)');
console.log(`  Abilities: ${wizard.abilities.length} total`);
console.log(`  - Class Features: ${wizard.abilities.filter(a => a.category === 'class-feature').length}`);
console.log(`  - Spells: ${wizard.abilities.filter(a => a.category === 'spell').length}`);
console.log(`  Spell Slots: ${wizard.spellSlots[1].max}Ã—1st, ${wizard.spellSlots[2].max}Ã—2nd, ${wizard.spellSlots[3].max}Ã—3rd`);
console.log(`  Equipment: ${wizard.inventory.length} items`);
console.log(`  Backstory: ${wizard.backstory ? 'Generated by LLM' : 'None'}\n`);

console.log('FIGHTER (Level 3 - Martial)');
console.log(`  Abilities: ${fighter.abilities.length} total`);
console.log(`  - Class Features: ${fighter.abilities.filter(a => a.category === 'class-feature').length}`);
console.log(`  - Spells: ${fighter.abilities.filter(a => a.category === 'spell').length}`);
console.log(`  Equipment: ${fighter.inventory.length} items`);
console.log(`  Backstory: ${fighter.backstory ? 'Generated by LLM' : 'None'}\n`);
